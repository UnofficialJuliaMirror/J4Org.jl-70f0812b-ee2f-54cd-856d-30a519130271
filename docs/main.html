<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-05-03 Thu 22:41 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Package Documentation</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Vincent Picaud" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="http://orgmode.org/worg/style/worg.css"/>
<style type="text/css">body{ max-width:80%; }</style>
<style type="text/css"> blockquote {background:#EEEEEE; padding: 3px 13px}    </style>
<style type="text/css"> pre {background:#EEEEEE; padding: 3px 13px}    </style>
<style type="text/css"> blockquote {background:#EEEEEE; padding: 3px 13px}    </style>
<style type="text/css"> pre {background:#EEEEEE; padding: 3px 13px}    </style>
<script type="text/javascript" src="http://orgmode.org/org-info.js">
/**
 *
 * @source: http://orgmode.org/org-info.js
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in http://orgmode.org/org-info.js.
 *
 * Copyright (C) 2012-2017 Free Software Foundation, Inc.
 *
 *
 * The JavaScript code in this tag is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in http://orgmode.org/org-info.js.
 *
 */
</script>

<script type="text/javascript">

/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/

<!--/*--><![CDATA[/*><!--*/
org_html_manager.set("TOC_DEPTH", "3");
org_html_manager.set("LINK_HOME", "index.html");
org_html_manager.set("LINK_UP", "");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "showall");
org_html_manager.setup();  // activate after the parameters are set
/*]]>*///-->
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2017 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Package Documentation</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org4b92f5e">1. Introduction</a>
<ul>
<li><a href="#org57d07b9">1.1. Minimal requirements</a></li>
<li><a href="#orgcde4594">1.2. Getting started with a minimal example</a>
<ul>
<li><a href="#org0d62a63">1.2.1. Emacs configuration</a></li>
<li><a href="#org55a185b">1.2.2. A documented Julia <code>Foo</code> module</a></li>
<li><a href="#org53cc9cc">1.2.3. Minimal OrgMode document</a></li>
<li><a href="#orgc79fa68">1.2.4. Generating the doc</a></li>
<li><a href="#org5e025b8">1.2.5. Improving exported document style</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org9297100">2. More examples</a>
<ul>
<li><a href="#orgff6db9a">2.1. <code>print_org_doc</code> options</a>
<ul>
<li><a href="#org74df048">2.1.1. <code>header_level</code></a></li>
<li><a href="#org2184525">2.1.2. <code>tag</code>, <code>tag_to_ignore</code>, <code>identifier</code></a></li>
<li><a href="#orgc558e61">2.1.3. <code>complete_link</code></a></li>
<li><a href="#org14c6ace">2.1.4. <code>link_prefix</code></a></li>
<li><a href="#orgbc6c521">2.1.5. <code>case_sensitive</code></a></li>
<li><a href="#org25dd6f6">2.1.6. <code>boxingModule</code></a></li>
</ul>
</li>
<li><a href="#orga7b112e">2.2. Error reporting</a></li>
<li><a href="#org1a67c67">2.3. Compatibility with docstring / documenter.jl</a></li>
</ul>
</li>
<li><a href="#orge7cd0c6">3. API</a></li>
<li><a href="#org2544a68">4. Unit tests</a></li>
<li><a href="#orgd795ea5">5. Toto</a></li>
</ul>
</div>
</div>
<div id="outline-container-org4b92f5e" class="outline-2">
<h2 id="org4b92f5e"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
J4Org.jl is a Julia package that allows Julia doc generation into an
Org-Mode document. The goal is to be able to code and document Julia
packages without leaving Emacs and to reduce as much as possible the
burden of documentation. This package depends on <a href="https://github.com/KristofferC/Tokenize.jl/">Tokenize.jl</a>, to
tokenize Julia code.
</p>
</div>

<div id="outline-container-org57d07b9" class="outline-3">
<h3 id="org57d07b9"><span class="section-number-3">1.1</span> Minimal requirements</h3>
<div class="outline-text-3" id="text-1-1">
<p>
You need <a href="https://orgmode.org/">Org-Mode</a> plus <a href="https://github.com/gjkerns/ob-julia/blob/master/ob-julia-doc.org">ob-julia.el</a>, which has <a href="http://stat.ethz.ch/ESS/index.php?Section=download">ESS</a> as dependence, to be
installed.
</p>
</div>
</div>

<div id="outline-container-orgcde4594" class="outline-3">
<h3 id="orgcde4594"><span class="section-number-3">1.2</span> Getting started with a minimal example</h3>
<div class="outline-text-3" id="text-1-2">
<p>
The following is a minimal example you can reproduce to have a taste
of what this package do.
</p>
</div>

<div id="outline-container-org0d62a63" class="outline-4">
<h4 id="org0d62a63"><span class="section-number-4">1.2.1</span> Emacs configuration</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
You first need a minimal <code>init.el</code> file to configure Emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(package-initialize)

(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">ess-site</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">if required</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">(setq  inferior-julia-program-name "/path/to/julia-release-basic")</span>

(<span style="color: #a020f0;">require</span> '<span style="color: #008b8b;">org</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">*replace me* with your own ob-julia.el file location </span>
(add-to-list 'load-path <span style="color: #8b2252;">"~/GitLab/WorkingWithOrgMode/EmacsFiles"</span>)
<span style="color: #b22222;">;; </span><span style="color: #b22222;">babel configuration</span>
(<span style="color: #a020f0;">setq</span> org-confirm-babel-evaluate nil)
(org-babel-do-load-languages
 'org-babel-load-languages
 '((julia . t)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org55a185b" class="outline-4">
<h4 id="org55a185b"><span class="section-number-4">1.2.2</span> A documented Julia <code>Foo</code> module</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
Then you need a documented module:
</p>

<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">module</span> Foo

<span style="color: #a020f0;">export</span> Point, foo
    
<span style="color: #a020f0;">import</span> Base: norm

<span style="color: #b22222;">#</span><span style="color: #b22222;">+Point L:Point_struct</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">This is my Point structure</span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">*Example:*</span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Creates a point $p$ of coordinates $(x=1,y=2)$.</span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">#+BEGIN_SRC julia :eval never :exports code</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">p=Point(1,2)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">#+END_SRC</span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">You can add any valid Org mode directive. If you want to use</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">in-documentation link, use [[norm_link_example][]]</span>
<span style="color: #b22222;">#</span>
<span style="color: #a020f0;">struct</span> <span style="color: #228b22;">Point</span>
    x::<span style="color: #228b22;">Float64</span>
    y::<span style="color: #228b22;">Float64</span>
<span style="color: #a020f0;">end</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">+Point</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Creates Point at origin $(0,0)$ </span>
<span style="color: #0000ff;">Point</span>() = Point(0,0)

<span style="color: #b22222;">#</span><span style="color: #b22222;">+Enum</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">An enum</span>
<span style="color: #483d8b;">@enum</span> Alpha A=1 B C <span style="color: #b22222;"># </span><span style="color: #b22222;">just for example</span>

<span style="color: #b22222;">#</span><span style="color: #b22222;">+Point,Method L:norm_link_example</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">A simple function that computes $\sqrt{x^2+y^2}$</span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">*Example:*</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">!p=Point(1.0,2.0);</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">!norm(p) </span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">See: [[Point_struct][]]</span>
<span style="color: #b22222;">#</span>
<span style="color: #0000ff;">norm</span>(p::<span style="color: #228b22;">Point</span>)::<span style="color: #228b22;">Float64</span> = sqrt(p.x*p.x+p.y*p.y)

<span style="color: #b22222;"># </span><span style="color: #b22222;">+Method,Internal</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">An internal function</span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">For symbol that are not exported, do not forget the "Foo." prefix:</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">!p=Point(1.0,2.0)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">!Foo.foo(2.0,p)</span>
<span style="color: #0000ff;">foo</span>(r::<span style="color: #228b22;">Float64</span>,p::<span style="color: #228b22;">Point</span>) = Point(r*p.x,r*p.y)

<span style="color: #a020f0;">end</span> 
</pre>
</div>

<p>
I wanted to reduce the documentation process as much as possible. The
template is very simple. Before each item you want to document add
these comment lines:
</p>

<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;">#</span><span style="color: #b22222;">+Tag1,Tag2,... L:an_extra_link_if_required </span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">Here you can put any Org mode text, for instance $sin(x)$</span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">!sin(5) # julia code to be executed</span>
<span style="color: #b22222;">#</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">[[internal_link][]]</span>
<span style="color: #a020f0;">struct</span> <span style="color: #228b22;">A_Documented_Struct</span> 
...
<span style="color: #a020f0;">end</span> 
</pre>
</div>

<ul class="org-ul">
<li><b>#+Tag1,Tag2,&#x2026;</b> is mandatory, "#+" is followed by a list of
tags. Later when you want to extract doc you can do filtering
according these tags.</li>

<li><b>L:an_extra_link_if_required</b> is <b>not</b> mandatory. It defines a
reference if you want to create doc links. The previous statement
defines a link <b>target</b> named <code>an_extra_link_if_required</code>.</li>

<li><b>[[internal_link][]]</b> creates a link to a previously defined
<b>L:internal_link</b>.</li>

<li><b>!sin(5)</b> will execute Julia code and include the output in the
doc. If you only want to include Julia code without executing it,
simply use Org mode source block:</li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;"># </span><span style="color: #b22222;">#+BEGIN_SRC julia :eval never :exports code</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">sin(5)</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">#+END_SRC</span>
</pre>
</div>
</div>

<ol class="org-ol">
<li><a id="orge6c32c1"></a>Support for "# +" and "# !" (since v0.2.0)<br />
<div class="outline-text-5" id="text-1-2-2-1">
<p>
As you can see (foo() function comments), "# +", "#+" and "#
!", "#!" are synonyms.  The motivation is a better integration with
<a href="https://github.com/QBobWatson/poporg">poporg</a> Emacs package.  With this Emacs package you can edit comment
under OrgMode mode without being bothered by the "#" characters.
</p>
</div>
</li>
</ol>
</div>

<div id="outline-container-org53cc9cc" class="outline-4">
<h4 id="org53cc9cc"><span class="section-number-4">1.2.3</span> Minimal OrgMode document</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
This is the <code>foo.org</code> file.
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #b22222;">#+PROPERTY: header-args:julia :session *my_session* :exports code :eval no-export</span>
<span style="color: #b22222;">#+OPTIONS: ^:{}</span>
<span style="color: #7f7f7f;">#+TITLE:</span> <span style="color: #191970; font-weight: bold;">Getting Started with a minimal example</span>

<span style="color: #b22222;">#+BEGIN_SRC julia :results output none :eval no-export :exports none</span>
<span style="color: #7f7f7f;">push!(LOAD_PATH,pwd())</span>
<span style="color: #b22222;">#+END_SRC</span>

<span style="color: #b22222;">#+BEGIN_SRC julia :results output none :eval no-export :exports none</span>
<span style="color: #a020f0;">using</span><span style="color: #7f7f7f;"> J4Org </span>
<span style="color: #7f7f7f;">initialize_boxing_module(usedModules=[</span><span style="color: #8b2252;">"Foo"</span><span style="color: #7f7f7f;">]) </span>
<span style="color: #7f7f7f;">documented_items=create_documented_item_array(</span><span style="color: #8b2252;">"Foo.jl"</span><span style="color: #7f7f7f;">)</span>
<span style="color: #b22222;">#+END_SRC</span>

<span style="color: #0000ff;">* Example</span>

Prints all documented items, except those tagged with "Internal" 
<span style="color: #b22222;">#+BEGIN_SRC julia :results output drawer :eval no-export :exports results</span>
<span style="color: #7f7f7f;">print_org_doc(documented_items,tag_to_ignore=[</span><span style="color: #8b2252;">"Internal"</span><span style="color: #7f7f7f;">],header_level=0)</span>
<span style="color: #b22222;">#+END_SRC</span>
</pre>
</div>


<ul class="org-ul">
<li><b>push!(LOAD_PATH,pwd())</b> tells Julia where it can find our local <code>Foo</code>
module. This statement is only required if the documented module is
in an unusual place.</li>

<li><b>using J4Org</b> uses this package</li>

<li><b>initialize_boxing_module(usedModules=["Foo"])</b> defines what are
the modules to use when executing Julia code extracted from the doc
(the "#!" statements). Here we are documenting the <code>Foo</code> module,
hence we must use it. Note that you can also use any number of extra
modules for instance with <code>["Foo", "ExtraModule", ...]</code>. See
<a href="#org04073f6">initialize_boxing_module(&#x2026;)</a> for further details.</li>

<li><b>create_documented_item_array("Foo.jl")</b> creates the list of
documented items from file "Foo.jl". You can use a list of files and
a directory, see <a href="#org6420277">create_documented_item_array(&#x2026;)</a> for further details.</li>

<li><b>print_org_doc(documented_items,tag_to_ignore=["Internal"],header_level=0)</b>
prints all documented items, except those tagged with "Internal",
see <a href="#org1e59148">print_org_doc(&#x2026;)</a> for further details</li>
</ul>
</div>
</div>

<div id="outline-container-orgc79fa68" class="outline-4">
<h4 id="orgc79fa68"><span class="section-number-4">1.2.4</span> Generating the doc</h4>
<div class="outline-text-4" id="text-1-2-4">
<p>
To check that it works you can start a fresh emacs with
</p>

<div class="org-src-container">
<pre class="src src-bash">emacs -q --load init.el foo.org &amp;
</pre>
</div>

<p>
then type:
</p>
<ul class="org-ul">
<li><code>C-c C-v b</code> + <code>RET</code> to execute all source code blocks</li>
<li><code>C-c C-e h o</code> to html-export the file</li>
<li><code>C-c C-e l o</code> to pdf-export the file</li>
</ul>
</div>
</div>

<div id="outline-container-org5e025b8" class="outline-4">
<h4 id="org5e025b8"><span class="section-number-4">1.2.5</span> Improving exported document style</h4>
<div class="outline-text-4" id="text-1-2-5">
<p>
This was a minimal example, you can have a better look for the
exported documents by including css theme, etc. This is the approach
we used to generate <b>this</b> document (also see the <a href="main.pdf">main.pdf</a> PDF file).
Another example is <a href="https://vincent-picaud.github.io/DirectConvolution.jl/docs.html">DirectConvolution.jl documentation</a>. 
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org9297100" class="outline-2">
<h2 id="org9297100"><span class="section-number-2">2</span> More examples</h2>
<div class="outline-text-2" id="text-2">
<p>
We still use our <code>Foo</code> module to provide more examples. The complete <a href="#orge7cd0c6">API</a> is detailed after.
</p>
</div>

<div id="outline-container-orgff6db9a" class="outline-3">
<h3 id="orgff6db9a"><span class="section-number-3">2.1</span> <code>print_org_doc</code> options</h3>
<div class="outline-text-3" id="text-2-1">
<p>
The <a href="#org1e59148">print_org_doc(&#x2026;)</a> function has several options, let's see some usage examples
</p>
</div>

<div id="outline-container-org74df048" class="outline-4">
<h4 id="org74df048"><span class="section-number-4">2.1.1</span> <code>header_level</code></h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
This integer can have these values:
</p>
<ul class="org-ul">
<li><b>-1</b>: do not print header nor index, see <a href="#org4a633ca">header_level=-1</a></li>
<li><b>0</b>: print header beginning with "-", see <a href="#org3289102">header_level=0</a>.</li>
<li><b>l&gt;0</b> create subsection of level <b>l</b>, for instance <b>header_level=3</b>
creates subsections beginning with <b>3</b> stars. See
<a href="#org1542a93">header_level=5</a>. <b>Caveat:</b> for <b>l&gt;0</b> AFAIK there is a bug in OrgMode,
because a residual <b>:RESULT:</b> is printed.</li>
</ul>
</div>

<ol class="org-ol">
<li><a id="org4a633ca"></a><a id="ID-bda53362-32fb-4096-9c0a-32c0afb96b5f"></a>header_level=-1<br />
<div class="outline-text-5" id="text-2-1-1-1">
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;">#</span><span style="color: #b22222;">+BEGIN_SRC julia :results output drawer :eval no-export :exports results </span>
documented_items=create_documented_item_array(<span style="color: #8b2252;">"minimal_example/Foo.jl"</span>);
print_org_doc(documented_items,tag=<span style="color: #8b2252;">"Method"</span>,header_level=-1)
<span style="color: #b22222;">#</span><span style="color: #b22222;">+END_SRC</span>
</pre>
</div>

<p>
This will generate:
</p>

<p>

</p>

<div class="org-src-container">
<pre class="src src-julia">foo(r::<span style="color: #228b22;">Float64</span>,p::<span style="color: #228b22;">Point</span>)
</pre>
</div>
<blockquote>
<p>
An internal function
</p>

<p>
For symbol that are not exported, do not forget the "Foo." prefix:
</p>
<div class="org-src-container">
<pre class="src src-julia">p=Point(1.0,2.0)
Foo.foo(2.0,p)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-julia">Foo.Point(1.0, 2.0)
Foo.Point(2.0, 4.0)
</pre>
</div>
</blockquote>
<p>
<a href="minimal_example/Foo.jl#MissingReference">Foo.jl:42</a>
   <a id="orgb17b0cf"></a>
</p>
<div class="org-src-container">
<pre class="src src-julia">norm(p::<span style="color: #228b22;">Point</span>)::<span style="color: #228b22;">Float64</span>
</pre>
</div>
<blockquote>
<p>
A simple function that computes \(\sqrt{x^2+y^2}\)
</p>

<p>
<b>Example:</b>
</p>
<div class="org-src-container">
<pre class="src src-julia">p=Point(1.0,2.0);
norm(p) 
</pre>
</div>

<div class="org-src-container">
<pre class="src src-julia">2.23606797749979
</pre>
</div>

<p>
See: <span class="underline">Point_struct</span>
</p>
</blockquote>
<p>
<a href="minimal_example/Foo.jl#MissingReference">Foo.jl:31</a>
</p>
</div>
</li>

<li><a id="org3289102"></a><a id="ID-842e5c47-62d1-44fc-8489-e105a45f5dd4"></a>header_level=0<br />
<div class="outline-text-5" id="text-2-1-1-2">
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;">#</span><span style="color: #b22222;">+BEGIN_SRC julia :results output drawer :eval no-export :exports results</span>
documented_items=create_documented_item_array(<span style="color: #8b2252;">"minimal_example/Foo.jl"</span>);
print_org_doc(documented_items,tag=<span style="color: #8b2252;">"Method"</span>,header_level=0)
<span style="color: #b22222;">#</span><span style="color: #b22222;">+END_SRC</span>
</pre>
</div>

<p>
This will generate:
</p>

<p>

</p>

<p>
<a id="orgfda39ed"></a> <b>Index:</b> <b>[f]</b> <a href="#org1bafab0">foo</a> <b>[n]</b> <a href="#orgc1039ad">norm</a> 
</p>
<ul class="org-ul">
<li><b><code>foo</code></b>  <a id="org1bafab0"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia">foo(r::<span style="color: #228b22;">Float64</span>,p::<span style="color: #228b22;">Point</span>)
</pre>
</div>
<blockquote>
<p>
An internal function
</p>

<p>
For symbol that are not exported, do not forget the "Foo." prefix:
</p>
<div class="org-src-container">
<pre class="src src-julia">p=Point(1.0,2.0)
Foo.foo(2.0,p)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-julia">Foo.Point(1.0, 2.0)
Foo.Point(2.0, 4.0)
</pre>
</div>
</blockquote>
<p>
<a href="minimal_example/Foo.jl#MissingReference">Foo.jl:42</a>, <a href="#orgfda39ed">back to index</a>
</p>
<ul class="org-ul">
<li><b><code>norm</code></b>  <a id="orgc1039ad"></a> <a id="orgaacb381"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia">norm(p::<span style="color: #228b22;">Point</span>)::<span style="color: #228b22;">Float64</span>
</pre>
</div>
<blockquote>
<p>
A simple function that computes \(\sqrt{x^2+y^2}\)
</p>

<p>
<b>Example:</b>
</p>
<div class="org-src-container">
<pre class="src src-julia">p=Point(1.0,2.0);
norm(p) 
</pre>
</div>

<div class="org-src-container">
<pre class="src src-julia">2.23606797749979
</pre>
</div>

<p>
See: <span class="underline">Point_struct</span>
</p>
</blockquote>
<p>
<a href="minimal_example/Foo.jl#MissingReference">Foo.jl:31</a>, <a href="#orgfda39ed">back to index</a>
</p>
</div>
</li>



<li><a id="org1542a93"></a><a id="ID-0f6a49dc-ee9f-4964-8801-8badfb67f735"></a>header_level=5<br />
<div class="outline-text-5" id="text-2-1-1-3">
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;">#</span><span style="color: #b22222;">+BEGIN_SRC julia :results output drawer :eval no-export :exports results</span>
documented_items=create_documented_item_array(<span style="color: #8b2252;">"minimal_example/Foo.jl"</span>);
print_org_doc(documented_items,tag=<span style="color: #8b2252;">"Method"</span>,header_level=5)
<span style="color: #b22222;">#</span><span style="color: #b22222;">+END_SRC</span>
</pre>
</div>

<p>
This will generate:
</p>

<p>
:RESULTS:
</p>

<p>
<a id="org803bbc5"></a> <b>Index:</b> <b>[f]</b> <a href="#org019a939">foo</a> <b>[n]</b> <a href="#orge7d0f02">norm</a> 
</p>
</div>
<ol class="org-ol">
<li><a id="org4462741"></a><b><code>foo</code></b>  <a id="org019a939"></a><br />
<div class="outline-text-6" id="text-2-1-1-3-1">
<div class="org-src-container">
<pre class="src src-julia">foo(r::<span style="color: #228b22;">Float64</span>,p::<span style="color: #228b22;">Point</span>)
</pre>
</div>
<blockquote>
<p>
An internal function
</p>

<p>
For symbol that are not exported, do not forget the "Foo." prefix:
</p>
<div class="org-src-container">
<pre class="src src-julia">p=Point(1.0,2.0)
Foo.foo(2.0,p)
</pre>
</div>
<div class="org-src-container">
<pre class="src src-julia">Foo.Point(1.0, 2.0)
Foo.Point(2.0, 4.0)
</pre>
</div>
</blockquote>
<p>
<a href="minimal_example/Foo.jl#MissingReference">Foo.jl:42</a>, <a href="#org803bbc5">back to index</a>
</p>
</div>
</li>
<li><a id="orgec94e8f"></a><b><code>norm</code></b>  <a id="orge7d0f02"></a> <a id="orgf572883"></a><br />
<div class="outline-text-6" id="text-2-1-1-3-2">
<div class="org-src-container">
<pre class="src src-julia">norm(p::<span style="color: #228b22;">Point</span>)::<span style="color: #228b22;">Float64</span>
</pre>
</div>
<blockquote>
<p>
A simple function that computes \(\sqrt{x^2+y^2}\)
</p>

<p>
<b>Example:</b>
</p>
<div class="org-src-container">
<pre class="src src-julia">p=Point(1.0,2.0);
norm(p) 
</pre>
</div>
<div class="org-src-container">
<pre class="src src-julia">2.23606797749979
</pre>
</div>

<p>
See: <span class="underline">Point_struct</span>
</p>
</blockquote>
<p>
<a href="minimal_example/Foo.jl#MissingReference">Foo.jl:31</a>, <a href="#org803bbc5">back to index</a>
</p>
</div>
</li>
</ol>
</li>
</ol>
</div>

<div id="outline-container-org2184525" class="outline-4">
<h4 id="org2184525"><a id="ID-0e085bd4-7c99-44d6-8220-3e397fff8458"></a><span class="section-number-4">2.1.2</span> <code>tag</code>, <code>tag_to_ignore</code>, <code>identifier</code></h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
These options allow to select items to include:
</p>

<ul class="org-ul">
<li><code>tag</code> a string or an array of strings, collects all items with at least one tag in this <code>tag</code> option.</li>
<li><code>tag_to_ignore</code> a string or an array of strings, ignore all items with at least one tag in this <code>tag_to_ignore</code> option.</li>
<li><code>identifier</code> a string that stands for the structure, abstract type or function name. Collects all items with this <code>identifier</code> name.</li>
</ul>

<p>
For instance we can print <code>norm</code> identifier, restricted to <code>Point</code> tag, as follows:
</p>

<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;">#</span><span style="color: #b22222;">+BEGIN_SRC julia :results output drawer :eval no-export :exports results</span>
documented_items=create_documented_item_array(<span style="color: #8b2252;">"minimal_example/Foo.jl"</span>);
print_org_doc(documented_items,identifier=<span style="color: #8b2252;">"norm"</span>, tag=<span style="color: #8b2252;">"Point"</span>,header_level=-1)
<span style="color: #b22222;">#</span><span style="color: #b22222;">+END_SRC</span>
</pre>
</div>

<p>
This will generate:
</p>

<p>

</p>

<p>
  <a id="org50cf870"></a>
</p>
<div class="org-src-container">
<pre class="src src-julia">norm(p::<span style="color: #228b22;">Point</span>)::<span style="color: #228b22;">Float64</span>
</pre>
</div>
<blockquote>
<p>
A simple function that computes \(\sqrt{x^2+y^2}\)
</p>

<p>
<b>Example:</b>
</p>
<div class="org-src-container">
<pre class="src src-julia">p=Point(1.0,2.0);
norm(p) 
</pre>
</div>
<div class="org-src-container">
<pre class="src src-julia">2.23606797749979
</pre>
</div>

<p>
See: <span class="underline">Point_struct</span>
</p>
</blockquote>
<p>
<a href="minimal_example/Foo.jl#MissingReference">Foo.jl:31</a>
</p>
</div>
</div>

<div id="outline-container-orgc558e61" class="outline-4">
<h4 id="orgc558e61"><span class="section-number-4">2.1.3</span> <code>complete_link</code></h4>
<div class="outline-text-4" id="text-2-1-3">
<p>
If you look back at <a href="#org2184525"><code>tag</code>, <code>tag_to_ignore</code>, <code>identifier</code></a> you can see,
at the end of the <code>norm</code> function documentation, that the
<span class="underline">Point_struct</span> link is not active. The reason is that the <code>Point</code>
structure is not present. The <code>complete_link</code> option, if set to <code>true</code>
will try to fix all dangling links by including all the required
documented items. For instance, with:
</p>

<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;">#</span><span style="color: #b22222;">+BEGIN_SRC julia :results output drawer :eval no-export :exports results</span>
documented_items=create_documented_item_array(<span style="color: #8b2252;">"minimal_example/Foo.jl"</span>);
print_org_doc(documented_items,identifier=<span style="color: #8b2252;">"norm"</span>, tag=<span style="color: #8b2252;">"Point"</span>,header_level=-1,
              complete_link=<span style="color: #008b8b;">true</span>)
<span style="color: #b22222;">#</span><span style="color: #b22222;">+END_SRC</span>
</pre>
</div>

<p>
This will generate:
</p>

<p>

</p>

<p>
  <a id="org70f559a"></a>
</p>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">struct</span> <span style="color: #228b22;">Point</span>
</pre>
</div>
<blockquote>
<p>
This is my Point structure
</p>

<p>
<b>Example:</b>
</p>

<p>
Creates a point \(p\) of coordinates \((x=1,y=2)\).
</p>

<div class="org-src-container">
<pre class="src src-julia">p=Point(1,2)
</pre>
</div>

<p>
You can add any valid Org mode directive. If you want to use
in-documentation link, use <a href="#org09996f4">norm(&#x2026;)</a>
</p>
</blockquote>
<p>
<a href="minimal_example/Foo.jl#MissingReference">Foo.jl:8</a>
   <a id="org09996f4"></a>
</p>
<div class="org-src-container">
<pre class="src src-julia">norm(p::<span style="color: #228b22;">Point</span>)::<span style="color: #228b22;">Float64</span>
</pre>
</div>
<blockquote>
<p>
A simple function that computes \(\sqrt{x^2+y^2}\)
</p>

<p>
<b>Example:</b>
</p>
<div class="org-src-container">
<pre class="src src-julia">p=Point(1.0,2.0);
norm(p) 
</pre>
</div>
<div class="org-src-container">
<pre class="src src-julia">2.23606797749979
</pre>
</div>

<p>
See: <a href="#org70f559a">struct Point</a>
</p>
</blockquote>
<p>
<a href="minimal_example/Foo.jl#MissingReference">Foo.jl:31</a>
</p>

<p>
you see that the <code>Point</code> structure is included to make the
<span class="underline">struct_Point</span> link active.
</p>
</div>
</div>

<div id="outline-container-org14c6ace" class="outline-4">
<h4 id="org14c6ace"><span class="section-number-4">2.1.4</span> <code>link_prefix</code></h4>
<div class="outline-text-4" id="text-2-1-4">
<p>
You can create link from your OrgMode document to Julia documented
items that have defined a "L:link_target". However like these items
can be extracted at several places in your OrgMode document you need
to define a prefix to avoid multiple targets with the same name.
</p>

<p>
For instance, chose a prefix, here "my_prefix" and use:
</p>
<div class="org-src-container">
<pre class="src src-julia">print_org_doc(documented_items,...,link_prefix=<span style="color: #8b2252;">"my_prefix_"</span>)
</pre>
</div>
<p>
then you can create a regular OrgMode link to this item using
​ <b>[​[my_prefix_link_target][some_text]]</b>.
</p>
</div>
</div>


<div id="outline-container-orgbc6c521" class="outline-4">
<h4 id="orgbc6c521"><span class="section-number-4">2.1.5</span> <code>case_sensitive</code></h4>
<div class="outline-text-4" id="text-2-1-5">
<p>
When set to true, generates an index as follows:
</p>
<pre class="example">
[A] ..., [B] ...,[a] ..., [b] ...,
</pre>

<p>
When set to false, do not split upper/lower cases and group all A,a;B,b together:
</p>
<pre class="example">
[A] ..., [B] ...
</pre>
</div>
</div>

<div id="outline-container-org25dd6f6" class="outline-4">
<h4 id="org25dd6f6"><span class="section-number-4">2.1.6</span> <code>boxingModule</code></h4>
<div class="outline-text-4" id="text-2-1-6">
<p>
Comments starting with "#!" are executed in a boxed environment
</p>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">module</span> MyBoxing
<span style="color: #a020f0;">using</span> RequiredPackage_1,RequiredPackage_2,...
<span style="color: #a020f0;">end</span> 
</pre>
</div>

<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">using</span> MyBoxing

<span style="color: #b22222;"># </span><span style="color: #b22222;">execute "#!" statements here</span>
</pre>
</div>

<p>
This boxing is defined by the <a href="#org04073f6">initialize_boxing_module(&#x2026;)</a> function:
</p>

<div class="org-src-container">
<pre class="src src-julia">initialize_boxing_module(boxingModule=<span style="color: #8b2252;">"MyBoxing"</span>,
                         usedModules=[<span style="color: #8b2252;">"RequiredPackage_1"</span>,<span style="color: #8b2252;">"RequiredPackage_2"</span>,...])
</pre>
</div>

<p>
This <code>boxingModule</code> option allows you to chose your boxing environment:
</p>
<div class="org-src-container">
<pre class="src src-julia">print_org_doc(documented_items,boxingModule=<span style="color: #8b2252;">"MyBoxing"</span>,...)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga7b112e" class="outline-3">
<h3 id="orga7b112e"><span class="section-number-3">2.2</span> Error reporting</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Error reporting is performed as OrgMode comment. For instance if you execute:
</p>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;">#</span><span style="color: #b22222;">+BEGIN_SRC julia :results output drawer :eval no-export :exports results </span>
documented_items=create_documented_item_array(<span style="color: #8b2252;">"minimal_example/Foo.jl"</span>);
print_org_doc(documented_items,tag=<span style="color: #8b2252;">"Method"</span>,header_level=-1)
<span style="color: #b22222;">#</span><span style="color: #b22222;">+END_SRC</span>
</pre>
</div>


<p>
you will get:
</p>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;">#</span><span style="color: #b22222;">+RESULTS:</span>
<span style="color: #483d8b;">:RESULTS</span>:
<span style="color: #b22222;"># </span><span style="color: #b22222;">=WARNING:= Link target ("Point_struct", "") not found</span>
...
<span style="color: #483d8b;">:END</span>:
</pre>
</div>
</div>
</div>
<div id="outline-container-org1a67c67" class="outline-3">
<h3 id="org1a67c67"><span class="section-number-3">2.3</span> Compatibility with docstring / documenter.jl</h3>
<div class="outline-text-3" id="text-2-3">
<p>
You can still use something like:
</p>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #8b2252;">"""</span>
<span style="color: #8b2252;">    foo()</span>

<span style="color: #8b2252;">foo function ...</span>
<span style="color: #8b2252;">"""</span>
<span style="color: #b22222;">#</span><span style="color: #b22222;">+Tags...</span>
<span style="color: #b22222;"># </span><span style="color: #b22222;">foo function ...</span>
<span style="color: #0000ff;">foo</span>() = ...
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge7cd0c6" class="outline-2">
<h2 id="orge7cd0c6"><a id="ID-c9053a86-dea5-4bc2-a883-92a1bfde20ba"></a><span class="section-number-2">3</span> API</h2>
<div class="outline-text-2" id="text-3">
<p>
The API is simple, with very few functions:
</p>

<p>
<a id="orgb630dfe"></a> <b>Index:</b> <b>[c]</b> <a href="#org75893fc">create_documented_item_array</a>, <a href="#org0c0ed4a">create_documented_item_array_dir</a> <b>[i]</b> <a href="#org6996aa6">initialize_boxing_module</a> <b>[p]</b> <a href="#orgfb58cd9">print_org_doc</a> 
</p>
<ul class="org-ul">
<li><b><code>create_documented_item_array</code></b>  <a id="org75893fc"></a> <a id="org6420277"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">create_documented_item_array</span>(filename::<span style="color: #228b22;">String</span>)::<span style="color: #228b22;">Array</span>{Documented_Item,1}
</pre>
</div>
<blockquote>
<p>
Reads a Julia code file and returns an array of documented items.
</p>
</blockquote>
<p>
<a href="../src/documented_item.jl#MissingReference">documented_item.jl:89</a>, <a href="#orgb630dfe">back to index</a>
</p>

<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">create_documented_item_array</span>(filename_list::<span style="color: #228b22;">Array</span>{<span style="color: #228b22;">String</span>,1})::<span style="color: #228b22;">Array</span>{Documented_Item,1}
</pre>
</div>
<blockquote>
<p>
Reads an array of Julia code files and returns an array of
documented items.
</p>

<p>
<b>Usage example:</b> 
</p>
<div class="org-src-container">
<pre class="src src-julia">create_documented_item_array([<span style="color: #8b2252;">"file1"</span>,<span style="color: #8b2252;">"file2"</span>,...])
</pre>
</div>

<p>
<b>Note:</b> instead of a list of files you can also specify a directory,
see <a href="#org5319618">create_documented_item_array_dir(&#x2026;)</a>
</p>
</blockquote>
<p>
<a href="../src/documented_item.jl#MissingReference">documented_item.jl:128</a>, <a href="#orgb630dfe">back to index</a>
</p>
<ul class="org-ul">
<li><b><code>create_documented_item_array_dir</code></b>  <a id="org0c0ed4a"></a> <a id="org5319618"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">create_documented_item_array_dir</span>(dirname::<span style="color: #228b22;">String</span>)
</pre>
</div>
<blockquote>
<p>
Reads all *.jl files in a directory and returns an array of
documented items.
</p>
</blockquote>
<p>
<a href="../src/documented_item.jl#MissingReference">documented_item.jl:150</a>, <a href="#orgb630dfe">back to index</a>
</p>
<ul class="org-ul">
<li><b><code>initialize_boxing_module</code></b>  <a id="org6996aa6"></a> <a id="org04073f6"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">initialize_boxing_module</span>(;
                                  boxingModule::<span style="color: #228b22;">String</span>=<span style="color: #8b2252;">"BoxingModule"</span>,
                                  usedModules::<span style="color: #228b22;">Vector</span>{<span style="color: #228b22;">String</span>}=<span style="color: #228b22;">String</span>[],
                                  force::<span style="color: #228b22;">Bool</span>=<span style="color: #008b8b;">false</span>)::<span style="color: #228b22;">Void</span>
</pre>
</div>
<blockquote>
<p>
Initialize a boxing module. This module is used to run Julia comment
code snippet (tagged by "#!" or by "# !")
</p>

<p>
<b>Example:</b>
</p>
<div class="org-src-container">
<pre class="src src-julia">initialize_boxing_module(boxingModule=<span style="color: #8b2252;">"MyBoxing"</span>,
                         usedModules=[<span style="color: #8b2252;">"RequiredPackage_1"</span>,
                                      <span style="color: #8b2252;">"RequiredPackage_2"</span>,...])
</pre>
</div>

<p>
creates
</p>

<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">module</span> MyBoxing
<span style="color: #a020f0;">using</span> RequiredPackage_1,RequiredPackage_2,...
<span style="color: #a020f0;">end</span> 
</pre>
</div>

<p>
and future "# !" statements are executed after using MyBoxing:
</p>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">using</span> MyBoxing
<span style="color: #b22222;"># </span><span style="color: #b22222;">!statements</span>
</pre>
</div>
</blockquote>
<p>
<a href="../src/evaluate.jl#MissingReference">evaluate.jl:18</a>, <a href="#orgb630dfe">back to index</a>
</p>
<ul class="org-ul">
<li><b><code>print_org_doc</code></b>  <a id="orgfb58cd9"></a> <a id="org1e59148"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">print_org_doc</span>(di_array::<span style="color: #228b22;">Array</span>{Documented_Item,1};
                       tag::<span style="color: #228b22;">Union</span>{<span style="color: #228b22;">String</span>,<span style="color: #228b22;">Array</span>{<span style="color: #228b22;">String</span>,1}}=<span style="color: #8b2252;">""</span>,
                       tag_to_ignore::<span style="color: #228b22;">Union</span>{<span style="color: #228b22;">String</span>,<span style="color: #228b22;">Array</span>{<span style="color: #228b22;">String</span>,1}}=<span style="color: #8b2252;">""</span>,
                       identifier::<span style="color: #228b22;">String</span>=<span style="color: #8b2252;">""</span>,
                       header_level::<span style="color: #228b22;">Int</span>=0,
                       link_prefix::<span style="color: #228b22;">String</span>=randstring(),
                       complete_link::<span style="color: #228b22;">Bool</span>=<span style="color: #008b8b;">false</span>,
                       case_sensitive::<span style="color: #228b22;">Bool</span>=<span style="color: #008b8b;">true</span>,
                       boxingModule::<span style="color: #228b22;">String</span>=<span style="color: #8b2252;">"BoxingModule"</span>)
</pre>
</div>
<blockquote>
<p>
Prints generated documentation to be exported by OrgMode, this is the main function of the <code>J4Org</code> package.
</p>

<p>
<b>Org-Mode Usage example:</b>
</p>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #b22222;">#</span><span style="color: #b22222;">+BEGIN_SRC julia :results output drawer :eval no-export :exports results</span>
documented_items = create_documented_item_array_dir(<span style="color: #8b2252;">"~/GitLab/MyPackage.jl/src/"</span>);
print_org_doc(documented_items,tag=<span style="color: #8b2252;">"API"</span>,header_level=0)
<span style="color: #b22222;">#</span><span style="color: #b22222;">+END_SRC</span>
</pre>
</div>

<p>
<b>Arguments:</b>
</p>
<ul class="org-ul">
<li><code>tag</code>: tags to collect when generating the documentation</li>
<li><code>tag_to_ignore</code>: tags to ignore when generating the documentation</li>
<li><code>identifier</code>: generates documentation for this "identifier". Can be a function name, a structure name, etc…</li>
<li><code>link_prefix</code>: allows to add a prefix to extra link (#+tag L=extra_link). this is can be useful to avoid link name conflict when performing local doc extraction.</li>
<li><code>complete_link</code>: if true, try to fix link without target by adding extra items</li>
<li><code>case_sensitive</code>: case sensitive index.</li>
<li><code>boxingModule</code>: specifies the context in which "#!" code will be executed. See <a href="#org04073f6">initialize_boxing_module(&#x2026;)</a> for details.</li>
</ul>
</blockquote>
<p>
<a href="../src/main.jl#MissingReference">main.jl:346</a>, <a href="#orgb630dfe">back to index</a>
</p>
</div>
</div>

<div id="outline-container-org2544a68" class="outline-2">
<h2 id="org2544a68"><span class="section-number-2">4</span> Unit tests</h2>
<div class="outline-text-2" id="text-4">
<pre class="example">

foo (generic function with 1 method)
ERROR: MethodError: no method matching start(::#foo)
Closest candidates are:
  start(!Matched::SimpleVector) at essentials.jl:258
  start(!Matched::Base.MethodList) at reflection.jl:560
  start(!Matched::ExponentialBackOff) at error.jl:107
  ...
Stacktrace:
 [1] #writedlm#18(::Array{Any,1}, ::Function, ::IOStream, ::Function, ::Char) at ./datafmt.jl:673
 [2] #20 at ./datafmt.jl:683 [inlined]
 [3] open(::Base.DataFmt.##20#21{Array{Any,1},#foo,Char}, ::String, ::String) at ./iostream.jl:152
 [4] #writecsv#23(::Array{Any,1}, ::Function, ::String, ::Function) at ./datafmt.jl:705
 [5] writecsv(::String, ::Function) at ./datafmt.jl:705
Test Summary: | Pass  Total
J4Org         |  103    103
</pre>
</div>
</div>

<div id="outline-container-orgd795ea5" class="outline-2">
<h2 id="orgd795ea5"><span class="section-number-2">5</span> Toto</h2>
<div class="outline-text-2" id="text-5">
<p>

</p>

<p>
<a id="org84ecd86"></a> <b>Index:</b> <b>[c]</b> <a href="#orgbd889fc">clean_extracted_links</a>, <a href="#orgac24988">create_file_org_link</a>, <a href="#orge929e76">create_link_readable_part</a> <b>[d]</b> <a href="#org6f9b7a5">doc_link_substituion</a> <b>[e]</b> <a href="#orgd53bb60">extract_links</a> <b>[g]</b> <a href="#orgcdaa865">get_items_with_link_target</a> 
</p>
<ul class="org-ul">
<li><b><code>clean_extracted_links</code></b>  <a id="orgbd889fc"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">clean_extracted_links</span>(toClean::<span style="color: #228b22;">Vector</span>{<span style="color: #228b22;">Tuple</span>{<span style="color: #228b22;">String</span>,<span style="color: #228b22;">String</span>}})::<span style="color: #228b22;">Vector</span>{<span style="color: #228b22;">Tuple</span>{<span style="color: #228b22;">String</span>,<span style="color: #228b22;">String</span>}}
</pre>
</div>
<blockquote>
<p>
This function clean extracted links by removing duplicates
</p>

<p>
See: <a href="#org0743254">extract_links(&#x2026;)</a>
</p>
</blockquote>
<p>
<a href="../src/links.jl#MissingReference">links.jl:53</a>, <a href="#org84ecd86">back to index</a>
</p>
<ul class="org-ul">
<li><b><code>create_file_org_link</code></b>  <a id="orgac24988"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">create_file_org_link</span>(di::<span style="color: #228b22;">Documented_Item</span>)::<span style="color: #228b22;">String</span>
</pre>
</div>
<p>
<a href="../src/documented_item.jl#MissingReference">documented_item.jl:51</a>, <a href="#org84ecd86">back to index</a>
</p>

<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">create_file_org_link</span>(filename::<span style="color: #228b22;">String</span>,line::<span style="color: #228b22;">Int</span>=0)::<span style="color: #228b22;">String</span>
</pre>
</div>
<blockquote>
<p>
Generate a org compatible link to file
<b>Examples:</b>
</p>
<div class="org-src-container">
<pre class="src src-julia">J4Org.create_file_org_link(<span style="color: #8b2252;">"/path/file.txt"</span>)
J4Org.create_file_org_link(<span style="color: #8b2252;">"/path/file.txt"</span>,10)
</pre>
</div>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #8b2252;">"[[file:/path/file.txt][file.txt]]"</span>
<span style="color: #8b2252;">"[[file:/path/file.txt::10][file.txt:10]]"</span>
</pre>
</div>
</blockquote>
<p>
<a href="../src/J4Org.jl#MissingReference">J4Org.jl:17</a>, <a href="#org84ecd86">back to index</a>
</p>
<ul class="org-ul">
<li><b><code>create_link_readable_part</code></b>  <a id="orge929e76"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">create_link_readable_part</span>(di::<span style="color: #228b22;">Documented_Item</span>)::<span style="color: #228b22;">String</span>
</pre>
</div>
<blockquote>
<p>
Creates readable part of the link.
</p>

<p>
By default use item identifier.
</p>

<p>
Improve it if we can, for instance
</p>

<ul class="org-ul">
<li>for functions: identifier -&gt; identifier(&#x2026;)</li>
<li>for enums: identifier -&gt; @enum identifier</li>
<li>&#x2026;</li>
</ul>

<p>
<b>Parameters</b>:
</p>
<ul class="org-ul">
<li>di: the item containing the link target (L:link_target)</li>
</ul>

<p>
<b>Post-condition</b>:
</p>
<ul class="org-ul">
<li>returns a non-empty string</li>
</ul>
</blockquote>
<p>
<a href="../src/links.jl#MissingReference">links.jl:82</a>, <a href="#org84ecd86">back to index</a>
</p>
<ul class="org-ul">
<li><b><code>doc_link_substituion</code></b>  <a id="org6f9b7a5"></a> <a id="org273e56d"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">doc_link_substituion</span>(doc::<span style="color: #228b22;">String</span>,di_array::<span style="color: #228b22;">Array</span>{Documented_Item,1},link_prefix::<span style="color: #228b22;">String</span>)::<span style="color: #228b22;">String</span>
</pre>
</div>
<blockquote>
<p>
From doc string performs links substitution
</p>

<ul class="org-ul">
<li>check if there are links in the doc, eventually return unmodified doc string</li>
<li>for each link check if it exists in di_array
<ul class="org-ul">
<li>yes, replace ​[​[link_target][]] by ​[​[link_prefix_link_target][identifier]] to create a valid OrgMode link.</li>
<li>no,  replace ​[​[link_target][]] by <span class="underline">link_target</span> to create an inactive link</li>
</ul></li>
</ul>

<p>
<b>Note:</b> in order to do not interfere with org mode link we only process "links" of the form "[[something][]]"
        see <a href="https://orgmode.org/manual/Link-format.html">https://orgmode.org/manual/Link-format.html</a>
</p>

<p>
<b>Note:</b> to be able to write a "unactive" link, use C-x 8 RET 200b
        (see: <a href="https://emacs.stackexchange.com/a/16702">https://emacs.stackexchange.com/a/16702</a>)
</p>
</blockquote>
<p>
<a href="../src/links.jl#MissingReference">links.jl:124</a>, <a href="#org84ecd86">back to index</a>
</p>
<ul class="org-ul">
<li><b><code>extract_links</code></b>  <a id="orgd53bb60"></a> <a id="org0743254"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">extract_links</span>(input::<span style="color: #228b22;">String</span>)::<span style="color: #228b22;">Vector</span>{<span style="color: #228b22;">Tuple</span>{<span style="color: #228b22;">String</span>,<span style="color: #228b22;">String</span>}}
</pre>
</div>
<blockquote>
<p>
This function returns the list of links found in the string. It
returns nothing if no link is found
</p>

<div class="org-src-container">
<pre class="src src-julia">s=<span style="color: #8b2252;">"# some text [[some_target][]] another one [[link_target][link_name]]\n and a last one [[a4][b1]]"</span>;
J4Org.extract_links(s)
</pre>
</div>
<div class="org-src-container">
<pre class="src src-julia">1-element <span style="color: #228b22;">Array</span>{<span style="color: #228b22;">Tuple</span>{<span style="color: #228b22;">String</span>,<span style="color: #228b22;">String</span>},1}:
 (<span style="color: #8b2252;">"some_target"</span>, <span style="color: #8b2252;">""</span>)
</pre>
</div>

<p>
<b>Caveat:</b> only use links of the forme ​"[​[something][]]", which are not
          valid Org mode links, see <a href="#org273e56d">doc_link_substituion(&#x2026;)</a>
</p>

<p>
<b>Test link:</b> <a href="#org273e56d">doc_link_substituion(&#x2026;)</a>
</p>
</blockquote>
<p>
<a href="../src/links.jl#MissingReference">links.jl:2</a>, <a href="#org84ecd86">back to index</a>
</p>

<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">extract_links</span>(di_array::<span style="color: #228b22;">Array</span>{Documented_Item,1})::<span style="color: #228b22;">Vector</span>{<span style="color: #228b22;">Tuple</span>{<span style="color: #228b22;">String</span>,<span style="color: #228b22;">String</span>}}
</pre>
</div>
<blockquote>
<p>
This function is like <a href="#org0743254">extract_links(&#x2026;)</a>, except that is
process an array of <span class="underline">Documented_Item</span>
</p>
</blockquote>
<p>
<a href="../src/links.jl#MissingReference">links.jl:38</a>, <a href="#org84ecd86">back to index</a>
</p>
<ul class="org-ul">
<li><b><code>get_items_with_link_target</code></b>  <a id="orgcdaa865"></a></li>
</ul>
<div class="org-src-container">
<pre class="src src-julia"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">get_items_with_link_target</span>(link_target::<span style="color: #228b22;">String</span>,di_array::<span style="color: #228b22;">Array</span>{Documented_Item,1})::<span style="color: #228b22;">Vector</span>{<span style="color: #228b22;">Int</span>}
</pre>
</div>
<blockquote>
<p>
Returns the indices of <span class="underline">Documented_Item</span> containing the
link_target (have a tag line with L:link_target)
</p>

<p>
<b>Note:</b> a normal situation is to have zero or one indices. Several
indices means that we do not have a unique target.
</p>
</blockquote>
<p>
<a href="../src/links.jl#MissingReference">links.jl:63</a>, <a href="#org84ecd86">back to index</a>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Vincent Picaud</p>
<p class="date">Created: 2018-05-03 Thu 22:41</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
